Run by AMM on 14 Oct 2016 11:27:17





================================================================================
 1 virulence predictions by site
================================================================================
 make bar chart of which methods differ on which virulence factor





================================================================================
 2 phenotype predictions compared to gold standard
================================================================================
overall results

goldstanda |                        valueall
        rd |       aaa        apa        app        ppa        ppp |     Total
-----------+-------------------------------------------------------+----------
         - |    15,648         11          7         83      3,004 |    18,753 
         A |     3,364         10          0         17         81 |     3,472 
        NA |     2,858          1          0         22        452 |     3,333 
         P |        12          2          0         10        619 |       643 
-----------+-------------------------------------------------------+----------
     Total |    21,882         24          7        132      4,156 |    26,201 

results by site

              |                        valueall
         site |       aaa        apa        app        ppa        ppp |     Total
--------------+-------------------------------------------------------+----------
          eta |     1,338          1          0          0         40 |     1,379 
          etb |     1,372          1          0          1          5 |     1,379 
          etd |     1,320          1          0          1         57 |     1,379 
         meca |       999          1          0          2        377 |     1,379 
         mecc |     1,362          0          0          0         17 |     1,379 
          pvl |     1,266          3          0          1        109 |     1,379 
          sea |     1,080          1          0          3        295 |     1,379 
          seb |     1,267          1          0          2        109 |     1,379 
          sec |     1,149          1          0          4        225 |     1,379 
          sed |     1,313          0          0          0         66 |     1,379 
          see |     1,375          0          0          0          4 |     1,379 
          seg |       600          6          0         20        753 |     1,379 
          seh |     1,241          2          0          2        134 |     1,379 
          sei |       596          3          6         33        741 |     1,379 
          sej |     1,310          0          0          0         69 |     1,379 
         selr |     1,312          0          0          0         67 |     1,379 
          sep |     1,268          0          1          2        108 |     1,379 
          seu |       595          2          0         57        725 |     1,379 
        tsst1 |     1,119          1          0          4        255 |     1,379 
--------------+-------------------------------------------------------+----------
        Total |    21,882         24          7        132      4,156 |    26,201 

comparision to clear gold value results

goldstanda |                  valueall
        rd |       aaa        apa        ppa        ppp |     Total
-----------+--------------------------------------------+----------
         A |     3,364         10         17         81 |     3,472 
         P |        12          2         10        619 |       643 
-----------+--------------------------------------------+----------
     Total |     3,376         12         27        700 |     4,115 

3983 out of 4115results agree between all methods and gold standard
96.792224





================================================================================
 3 find sensitivity and specifity of each method/antibiotic
================================================================================
restrict to sites with clear gold standard values only
4115 results are P/A
Typewriter
selr has no positive samples
sep has no positive samples

     +-------------------------------------------------------------------------+
     |  site   sensit~y   specif~y      lsens      usens      lspec      uspec |
     |-------------------------------------------------------------------------|
  1. |   eta          1          1    .814698          1   .9805695          1 |
  2. |   etb          1          1   .2924018          1   .9819923          1 |
  3. |   etd          1          1   .7529474          1   .9810681          1 |
  4. |  meca   .9933775   .9943503   .9636555   .9998323   .9689253   .9998569 |
  5. |  mecc          1          1   .7529474          1   .9764817          1 |
     |-------------------------------------------------------------------------|
  6. |   pvl   .9578947          1   .8956916   .9884104   .9846839          1 |
  7. |   sea       .925   .9939394   .7961352   .9842578   .9666966   .9998466 |
  8. |   seb          1          1   .8389024          1   .9801514          1 |
  9. |   sec   .9642857   .9943503   .8165224   .9990962   .9689253   .9998569 |
 10. |   sed          1          1   .7940928          1   .9806713          1 |
     |-------------------------------------------------------------------------|
 11. |   see          1          1   .2924018          1    .981904          1 |
 12. |   seg    .987013          1   .9297529   .9996713   .9715919          1 |
 13. |   seh   .9230769   .9944134   .7486971   .9905446   .9692681   .9998586 |
 14. |   sei   .8947368          1   .8030833   .9534464    .971809          1 |
 15. |   sej        .95          1   .7512673   .9987349   .9802576          1 |
     |-------------------------------------------------------------------------|
 16. |  selr          .   .9073171          .          .   .8590496   .9432732 |
 17. |   sep          .   .9463415          .          .   .9060199   .9729128 |
 18. |   seu   .8571429   .7445652    .636576    .969511   .6751918   .8058804 |
 19. | tsst1          1          1   .8456275          1   .9802576          1 |
     +-------------------------------------------------------------------------+
restrict to sites with clear gold standard values only
4115 results are P/A
Genefinder
selr has no positive samples
sep has no positive samples

     +-------------------------------------------------------------------------+
     |  site   sensit~y   specif~y      lsens      usens      lspec      uspec |
     |-------------------------------------------------------------------------|
  1. |   eta          1          1    .814698          1   .9805695          1 |
  2. |   etb          1   .9950739   .2924018          1   .9728606   .9998753 |
  3. |   etd          1          1   .7529474          1   .9810681          1 |
  4. |  meca          1   .9943503   .9758663          1   .9689253   .9998569 |
  5. |  mecc          1          1   .7529474          1   .9764817          1 |
     |-------------------------------------------------------------------------|
  6. |   pvl   .9578947          1   .8956916   .9884104   .9846839          1 |
  7. |   sea       .925   .9878788   .7961352   .9842578   .9569018   .9985287 |
  8. |   seb          1          1   .8389024          1   .9801514          1 |
  9. |   sec   .9642857   .9887006   .8165224   .9990962   .9597806   .9986286 |
 10. |   sed          1          1   .7940928          1   .9806713          1 |
     |-------------------------------------------------------------------------|
 11. |   see          1          1   .2924018          1    .981904          1 |
 12. |   seg    .987013   .9921875   .9297529   .9996713   .9572409   .9998022 |
 13. |   seh   .9230769   .9944134   .7486971   .9905446   .9692681   .9998586 |
 14. |   sei   .9736842   .9922481   .9081505    .996797   .9575666   .9998038 |
 15. |   sej        .95          1   .7512673   .9987349   .9802576          1 |
     |-------------------------------------------------------------------------|
 16. |  selr          .   .9073171          .          .   .8590496   .9432732 |
 17. |   sep          .   .9463415          .          .   .9060199   .9729128 |
 18. |   seu          1   .6847826   .8389024          1    .612345   .7511507 |
 19. | tsst1          1   .9945946   .8456275          1   .9702525   .9998631 |
     +-------------------------------------------------------------------------+
restrict to sites with clear gold standard values only
4115 results are P/A
Mykrobe
selr has no positive samples
sep has no positive samples

     +-------------------------------------------------------------------------+
     |  site   sensit~y   specif~y      lsens      usens      lspec      uspec |
     |-------------------------------------------------------------------------|
  1. |   eta          1   .9946808    .814698          1   .9707214   .9998654 |
  2. |   etb          1   .9950739   .2924018          1   .9728606   .9998753 |
  3. |   etd          1   .9948186   .7529474          1    .971471   .9998688 |
  4. |  meca          1   .9887006   .9758663          1   .9597806   .9986286 |
  5. |  mecc          1          1   .7529474          1   .9764817          1 |
     |-------------------------------------------------------------------------|
  6. |   pvl    .968421   .9916318   .9104775   .9934397   .9700998   .9989849 |
  7. |   sea       .925   .9878788   .7961352   .9842578   .9569018   .9985287 |
  8. |   seb          1   .9945652   .8389024          1   .9700928   .9998624 |
  9. |   sec   .9642857   .9830508   .8165224   .9990962   .9512687    .996491 |
 10. |   sed          1          1   .7940928          1   .9806713          1 |
     |-------------------------------------------------------------------------|
 11. |   see          1          1   .2924018          1    .981904          1 |
 12. |   seg    .987013    .984375   .9297529   .9996713   .9446974   .9981021 |
 13. |   seh   .9230769   .9888268   .7486971   .9905446   .9602234    .998644 |
 14. |   sei   .9868421   .9922481   .9288563   .9996669   .9575666   .9998038 |
 15. |   sej        .95          1   .7512673   .9987349   .9802576          1 |
     |-------------------------------------------------------------------------|
 16. |  selr          .   .9073171          .          .   .8590496   .9432732 |
 17. |   sep          .   .9463415          .          .   .9060199   .9729128 |
 18. |   seu          1   .6847826   .8389024          1    .612345   .7511507 |
 19. | tsst1          1   .9891892   .8456275          1   .9614952    .998688 |
     +-------------------------------------------------------------------------+
all methods
4115 results are A/P
4115 results are A/P
4115 results are A/P

     +-----------------------------------------------------------------------------+
     |    method   sensit~y      lsens      usens   specif~y      lspec      uspec |
     |-----------------------------------------------------------------------------|
  1. |    valuez   .9813375   .9676275   .9903206    .968894   .9625663   .9744148 |
  2. | valuetype    .962675   .9449704   .9759414   .9766705    .971086   .9814309 |
  3. | valuegene   .9782271   .9637383   .9880466   .9717742   .9657084   .9770269 |
     +-----------------------------------------------------------------------------+

. 
end of do-file

